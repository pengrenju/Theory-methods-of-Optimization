% 非线性规划函数逼近法中的割线法 %
% 用割线逼近目标函数的导函数曲线，
% 把割线的零点作为目标函数的驻点，
% 进而求出极小点的估计值
clear

% 输入目标函数
syms x1 x2
f1 = 3*x1^4-4*x1^3-12*x1^2; 
f2 = 3*x2^4-4*x2^3-12*x2^2; 
% 输入初始点
x1 = -1.2; x2 = -0.8;
% 输入最大迭代次数
N = 3;

% 计算目标函数的一阶导数
g1 = diff(f1);g2 = diff(f2);

% 开始迭代
n = 0;
while n<N
    x = x2-(x2-x1)/(subs(g2)-subs(g1))*subs(g2);
    x1 = x2;
    x2 = x;
    n = n+1;
end
disp(double(x2))